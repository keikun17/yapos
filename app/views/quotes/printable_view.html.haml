%div{style: "font-size:9px"}
  %h2= Yapos::SETTINGS[:company_name]
  %h5= Yapos::SETTINGS[:address]
  %h5= Yapos::SETTINGS[:contact_number]
  %h5= Yapos::SETTINGS[:email_address]

  %hr
  Date: #{@quote.quote_date.to_date.to_s(:long)}

  %h4= @quote.client_name
  - unless @quote.client.address.blank?
    =simple_format(@quote.client.address, class: 'compact')

  %table.table-compact
    %tr
      %td
        %strong ATTENTION
      %td :
      %td{colspan: 5}
        %strong= @quote.contact_person
    %tr
      %td
        %strong SUBJECT
      %td :
      %td{colspan: 6}
        %strong= @quote.quote_reference

    %tr
      %td{colspan:8}


  %strong As per your request we are pleased to quote on the following requirements

  %table.table.table-bordered.table-compact
    - @requests.each do |request|
      %tr
        %th{width:'80px'} ITEM NO.
        %th{width: '80px'} QTY:
        %th{width: '100px'} UNIT:
        %th{colspan:6} REQUESTED:
      %tr
        %td ITEM##{@requests.index(request) + 1}
        %td= request.quantity
        %td= request.unit
        %td{colspan:6}= simple_format("#{request.specs}")


      - unless request.offers.empty?
        %tr
          %th
          %th OFFER NO.
          %th BRAND:
          %th OFFERED:
          %th{width: '170px'} UNIT PRICE
          - unless @quote.offer_details_mergable?(:remarks)
            %th NOTES
          - unless @quote.offer_details_mergable?(:delivery)
            %th DELIVERY
          - unless @quote.offer_details_mergable?(:terms)
            %th TERMS
          - unless @quote.offer_details_mergable?(:warranty)
            %th WARRANTY
        - offers = OfferDecorator.decorate_collection(request.offers)
        - offers.each do |offer|
          %tr
            %td{style: 'border:none'}
            %td OFFER##{offers.index(offer) + 1}
            %td= offer.supplier_name
            %td= simple_format(offer.specs)
            %td= offer.display_selling_price
            - unless @quote.offer_details_mergable?(:remarks)
              %td= offer.remarks
            - unless @quote.offer_details_mergable?(:delivery)
              %td= offer.delivery
            - unless @quote.offer_details_mergable?(:terms)
              %td= offer.terms
            - unless @quote.offer_details_mergable?(:warranty)
              %td= offer.warranty

  %table.table-compact
    - if @quote.offer_details_mergable?(:remarks) and !@quote.solo_offer_remarks.blank?
      %tr
        %td
          %strong NOTES
        %td : #{@quote.solo_offer_remarks}
    - if @quote.offer_details_mergable?(:delivery) and !@quote.solo_offer_delivery.blank?
      %tr
        %td
          %strong DELIVERY
        %td : #{@quote.solo_offer_delivery}
    - if @quote.offer_details_mergable?(:terms) and !@quote.solo_offer_terms.blank?
      %tr
        %td
          %strong TERMS
        %td : #{@quote.solo_offer_terms}
    - if @quote.offer_details_mergable?(:warranty) and !@quote.solo_offer_warranty.blank?
      %tr
        %td
          %strong WARRANTY
        %td : #{@quote.solo_offer_warranty}

  - unless @quote.remarks.blank?
    %p.compact
      %strong= simple_format(@quote.remarks)
      %br

  %strong Thank you for the opportunity to quote and we hope to receive your valued order
  %br
  %br

  %p.compact
    %strong= @quote.signatory
    %br
    = @quote.signatory_position



